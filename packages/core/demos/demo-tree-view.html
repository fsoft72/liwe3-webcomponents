<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TreeView Component Demo - @liwe3/webcomponents</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
      min-height: 100vh;
      padding: 40px 20px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    header {
      text-align: center;
      color: white;
      margin-bottom: 60px;
    }

    h1 {
      font-size: 48px;
      font-weight: 700;
      margin-bottom: 10px;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
    }

    .subtitle {
      font-size: 18px;
      opacity: 0.9;
    }

    .demo-section {
      background: white;
      border-radius: 16px;
      padding: 40px;
      margin-bottom: 30px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
    }

    .section-title {
      font-size: 24px;
      font-weight: 600;
      margin-bottom: 20px;
      color: #333;
      border-bottom: 2px solid #11998e;
      padding-bottom: 10px;
    }

    .description {
      color: #666;
      line-height: 1.6;
      margin-bottom: 20px;
    }

    .tree-container {
      margin-top: 20px;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 8px;
      max-height: 500px;
      overflow: auto;
    }

    .code-block {
      background: #f8f9fa;
      border: 1px solid #dee2e6;
      border-radius: 8px;
      padding: 20px;
      margin-top: 20px;
      font-family: 'Courier New', monospace;
      font-size: 14px;
      overflow-x: auto;
    }

    .code-block pre {
      margin: 0;
      white-space: pre-wrap;
    }

    .output-area {
      margin-top: 20px;
      padding: 20px;
      background: #e9ecef;
      border-radius: 8px;
      min-height: 60px;
      font-family: 'Courier New', monospace;
      font-size: 14px;
    }

    .output-title {
      font-weight: 600;
      color: #495057;
      margin-bottom: 10px;
    }

    .output-content {
      color: #212529;
      white-space: pre-wrap;
    }

    .feature-list {
      list-style: none;
      padding-left: 0;
    }

    .feature-list li {
      padding: 10px 0;
      color: #666;
      display: flex;
      align-items: center;
    }

    .feature-list li::before {
      content: '‚úì';
      color: #11998e;
      font-weight: bold;
      margin-right: 10px;
      font-size: 18px;
    }

    .controls {
      margin-top: 20px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    .btn {
      padding: 10px 20px;
      border-radius: 6px;
      border: none;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.2s;
      font-weight: 500;
    }

    .btn-primary {
      background: #11998e;
      color: white;
    }

    .btn-primary:hover {
      background: #0d7a71;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(17, 153, 142, 0.3);
    }

    .btn-secondary {
      background: #6c757d;
      color: white;
    }

    .btn-secondary:hover {
      background: #5a6268;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(108, 117, 125, 0.3);
    }

    .btn-danger {
      background: #dc3545;
      color: white;
    }

    .btn-danger:hover {
      background: #c82333;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(220, 53, 69, 0.3);
    }

    @media (max-width: 768px) {
      h1 {
        font-size: 32px;
      }

      .demo-section {
        padding: 24px;
      }
    }

    /* Custom tree styling for different examples */
    #tree1 {
      --tree-hover-background: rgba(17, 153, 142, 0.1);
      --tree-checkbox-checked-background: #11998e;
      --tree-checkbox-checked-border: #11998e;
      --tree-label-hover-color: #11998e;
      --tree-focus-color: #11998e;
    }

    #tree2 {
      --tree-hover-background: rgba(99, 102, 241, 0.1);
      --tree-checkbox-checked-background: #6366f1;
      --tree-checkbox-checked-border: #6366f1;
      --tree-label-hover-color: #6366f1;
      --tree-focus-color: #6366f1;
      --tree-font-size: 16px;
    }

    #tree3 {
      --tree-hover-background: rgba(139, 92, 246, 0.1);
      --tree-checkbox-checked-background: #8b5cf6;
      --tree-checkbox-checked-border: #8b5cf6;
      --tree-label-hover-color: #8b5cf6;
      --tree-focus-color: #8b5cf6;
    }

    #tree4 {
      --tree-hover-background: rgba(239, 68, 68, 0.1);
      --tree-checkbox-checked-background: #ef4444;
      --tree-checkbox-checked-border: #ef4444;
      --tree-label-hover-color: #ef4444;
      --tree-focus-color: #ef4444;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>üå≥ TreeView Component Demo</h1>
      <p class="subtitle">A customizable tree view with infinite depth and checkboxes</p>
    </header>

    <div class="demo-section">
      <h2 class="section-title">Features</h2>
      <ul class="feature-list">
        <li>Infinite depth support for nested folders</li>
        <li>Selectable folders and items using checkboxes</li>
        <li>Expandable/collapsible folders via expand/collapse buttons or double-click</li>
        <li>Double-click on items fires 'itemselected' event for easy handling</li>
        <li>Custom icons, standard icons, or no icons per node</li>
        <li>Customizable indentation width</li>
        <li>Smooth animations and modern design</li>
        <li>Fully customizable with CSS variables</li>
        <li>TypeScript support with full type definitions</li>
      </ul>
    </div>

    <div class="demo-section">
      <h2 class="section-title">Example 1: File System Tree</h2>
      <p class="description">
        A file system-like tree structure with folders and files. Use expand/collapse buttons or double-click folders to toggle. Double-click items to trigger selection event. Use checkboxes to select items.
      </p>
      <div class="tree-container">
        <liwe3-tree-view id="tree1"></liwe3-tree-view>
      </div>
      <div class="controls">
        <button class="btn btn-primary" onclick="tree1ExpandAll()">Expand All</button>
        <button class="btn btn-secondary" onclick="tree1CollapseAll()">Collapse All</button>
        <button class="btn btn-primary" onclick="tree1SelectAll()">Select All</button>
        <button class="btn btn-danger" onclick="tree1DeselectAll()">Deselect All</button>
      </div>
      <div class="output-area">
        <div class="output-title">Selected Items:</div>
        <div class="output-content" id="output1">No items selected</div>
      </div>
    </div>

    <div class="demo-section">
      <h2 class="section-title">Example 2: Organization Structure</h2>
      <p class="description">
        A company organization chart with departments and teams. Features custom emoji icons and larger text.
      </p>
      <div class="tree-container">
        <liwe3-tree-view id="tree2"></liwe3-tree-view>
      </div>
      <div class="output-area">
        <div class="output-title">Selected Departments/Teams:</div>
        <div class="output-content" id="output2">No items selected</div>
      </div>
    </div>

    <div class="demo-section">
      <h2 class="section-title">Example 3: Custom Indentation</h2>
      <p class="description">
        Demonstrates custom indentation width for deeper nesting visualization. This tree has 40px indentation instead of the default 20px.
      </p>
      <div class="tree-container">
        <liwe3-tree-view id="tree3" indent-width="40"></liwe3-tree-view>
      </div>
      <div class="output-area">
        <div class="output-title">Selection Info:</div>
        <div class="output-content" id="output3">No items selected</div>
      </div>
    </div>

    <div class="demo-section">
      <h2 class="section-title">Example 4: Mixed Icons</h2>
      <p class="description">
        Shows nodes with different icon configurations: custom icons, standard icons, and no icons.
      </p>
      <div class="tree-container">
        <liwe3-tree-view id="tree4"></liwe3-tree-view>
      </div>
      <div class="output-area">
        <div class="output-title">Events Log:</div>
        <div class="output-content" id="output4">Interact with the tree to see events...</div>
      </div>
    </div>

    <div class="demo-section">
      <h2 class="section-title">Example 5: Fixed Height Container with Overflow</h2>
      <p class="description">
        This example shows how the TreeView behaves in a fixed-height container with overflow scrolling.
        The container has a red border and 300px fixed height to demonstrate scrolling behavior.
      </p>
      <div style="border: 2px solid red; height: 300px; overflow: auto; padding: 20px; background: #f8f9fa; border-radius: 8px; margin-top: 20px;">
        <liwe3-tree-view id="tree5"></liwe3-tree-view>
      </div>
      <div class="output-area">
        <div class="output-title">Selection Info:</div>
        <div class="output-content" id="output5">No items selected</div>
      </div>
    </div>

    <div class="demo-section">
      <h2 class="section-title">Usage Example</h2>
      <div class="code-block">
        <pre>// Import the TreeView component
import { TreeViewElement, TreeNode } from '@liwe3/webcomponents';

// Get the tree element
const tree = document.querySelector('liwe3-tree-view');

// Define tree data
const data: TreeNode[] = [
  {
    id: '1',
    label: 'Documents',
    icon: 'üìÅ',
    children: [
      {
        id: '1-1',
        label: 'Work',
        icon: 'üìÅ',
        children: [
          { id: '1-1-1', label: 'Report.pdf', icon: 'üìÑ' },
          { id: '1-1-2', label: 'Presentation.pptx', icon: 'üìä' }
        ]
      },
      {
        id: '1-2',
        label: 'Personal',
        icon: 'üìÅ',
        children: [
          { id: '1-2-1', label: 'Resume.docx', icon: 'üìù' }
        ]
      }
    ]
  },
  {
    id: '2',
    label: 'Pictures',
    icon: 'üìÅ',
    children: [
      { id: '2-1', label: 'Vacation.jpg', icon: 'üñºÔ∏è' },
      { id: '2-2', label: 'Family.png', icon: 'üñºÔ∏è' }
    ]
  }
];

// Set the tree data
tree.data = data;

// Listen for selection changes
tree.addEventListener('selectionchange', (e) => {
  console.log('Selected IDs:', e.detail.selectedIds);
});

// Listen for expand/collapse events
tree.addEventListener('toggle', (e) => {
  console.log(`Node ${e.detail.nodeId} ${e.detail.expanded ? 'expanded' : 'collapsed'}`);
});

// Listen for item double-click events
tree.addEventListener('itemselected', (e) => {
  console.log(`Item selected: ${e.detail.node.label}`, e.detail.node);
});

// Programmatically control the tree
tree.expandAll();        // Expand all nodes
tree.collapseAll();      // Collapse all nodes
tree.selectAll();        // Select all nodes
tree.deselectAll();      // Deselect all nodes</pre>
      </div>
    </div>

    <div class="demo-section">
      <h2 class="section-title">TreeNode Type Definition</h2>
      <div class="code-block">
        <pre>type TreeNode = {
  id: string;              // Unique identifier for the node
  label: string;           // Display text for the node
  children?: TreeNode[];   // Optional array of child nodes
  icon?: string;          // Optional icon (emoji or text)
  customIcon?: string;     // Optional custom icon (overrides default)
  selected?: boolean;      // Initial selection state
  expanded?: boolean;      // Initial expansion state
};</pre>
      </div>
    </div>

    <div class="demo-section">
      <h2 class="section-title">CSS Customization</h2>
      <div class="code-block">
        <pre>/* Available CSS variables for customization */
liwe3-tree-view {
  --tree-font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --tree-font-size: 14px;
  --tree-text-color: #333;
  --tree-background: transparent;
  --tree-padding: 8px;

  --tree-node-border-radius: 6px;
  --tree-hover-background: rgba(0, 123, 255, 0.08);

  --tree-expand-hover-background: rgba(0, 0, 0, 0.1);
  --tree-icon-color: #666;
  --tree-focus-color: #007bff;

  --tree-checkbox-border: #ccc;
  --tree-checkbox-border-radius: 4px;
  --tree-checkbox-background: white;
  --tree-checkbox-checked-background: #007bff;
  --tree-checkbox-checked-border: #007bff;
  --tree-checkbox-hover-border: #999;
  --tree-checkbox-hover-shadow: rgba(0, 123, 255, 0.1);

  --tree-custom-icon-size: 20px;
  --tree-label-color: #333;
  --tree-label-font-weight: 400;
  --tree-label-hover-color: #007bff;

  --tree-guide-line-color: rgba(0, 0, 0, 0.1);
  --tree-empty-color: #999;

  --tree-scrollbar-track: #f1f1f1;
  --tree-scrollbar-thumb: #888;
  --tree-scrollbar-thumb-hover: #555;
}</pre>
      </div>
    </div>

    <div class="demo-section">
      <h2 class="section-title">Icon Configuration</h2>
      <div class="code-block">
        <pre>// No icon - set icon to empty string
{ id: '1', label: 'No Icon Item', icon: '' }

// Standard icon - uses default folder/file icons
{ id: '2', label: 'Standard Icon', children: [...] }

// Custom icon - provide your own emoji or character
{ id: '3', label: 'Custom Icon', customIcon: '‚≠ê' }

// Icon property - use any emoji
{ id: '4', label: 'With Emoji', icon: 'üé®' }

// Default behavior (no icon property) - shows folder/file icon
{ id: '5', label: 'Default Icon', children: [...] }</pre>
      </div>
    </div>
  </div>

  <!-- Import the TreeView component -->
  <script type="module">
    import { TreeViewElement } from '../dist/TreeView.js';

    const log = (outputId, message) => {
      const output = document.getElementById(outputId);
      const timestamp = new Date().toLocaleTimeString();
      output.textContent = `[${timestamp}] ${message}`;
    };

    // Example 1: File System Tree
    const tree1 = document.getElementById('tree1');
    tree1.data = [
      {
        id: 'root',
        label: 'Root',
        expanded: true,
        children: [
          {
            id: 'documents',
            label: 'Documents',
            expanded: true,
            children: [
              {
                id: 'work',
                label: 'Work',
                children: [
                  { id: 'report1', label: 'Q1 Report.pdf', icon: 'üìÑ' },
                  { id: 'report2', label: 'Q2 Report.pdf', icon: 'üìÑ' },
                  { id: 'presentation', label: 'Presentation.pptx', icon: 'üìä' },
                  { id: 'budget', label: 'Budget.xlsx', icon: 'üìà' }
                ]
              },
              {
                id: 'personal',
                label: 'Personal',
                children: [
                  { id: 'resume', label: 'Resume.docx', icon: 'üìù' },
                  { id: 'cover-letter', label: 'Cover Letter.docx', icon: 'üìù' },
                  {
                    id: 'projects',
                    label: 'Projects',
                    children: [
                      { id: 'project1', label: 'Website Design.fig', icon: 'üé®' },
                      { id: 'project2', label: 'Mobile App.sketch', icon: 'üì±' }
                    ]
                  }
                ]
              }
            ]
          },
          {
            id: 'pictures',
            label: 'Pictures',
            children: [
              {
                id: 'vacation',
                label: 'Vacation 2024',
                children: [
                  { id: 'beach1', label: 'Beach.jpg', icon: 'üñºÔ∏è' },
                  { id: 'sunset', label: 'Sunset.jpg', icon: 'üñºÔ∏è' },
                  { id: 'mountains', label: 'Mountains.jpg', icon: 'üñºÔ∏è' }
                ]
              },
              {
                id: 'family',
                label: 'Family',
                children: [
                  { id: 'christmas', label: 'Christmas 2023.jpg', icon: 'üñºÔ∏è' },
                  { id: 'birthday', label: 'Birthday Party.jpg', icon: 'üñºÔ∏è' }
                ]
              }
            ]
          },
          {
            id: 'downloads',
            label: 'Downloads',
            children: [
              { id: 'software', label: 'Software.exe', icon: 'üíø' },
              { id: 'ebook', label: 'Ebook.pdf', icon: 'üìö' },
              { id: 'music', label: 'Music.mp3', icon: 'üéµ' }
            ]
          }
        ]
      }
    ];

    tree1.addEventListener('selectionchange', (e) => {
      const selectedIds = e.detail.selectedIds;
      if (selectedIds.length === 0) {
        log('output1', 'No items selected');
      } else {
        log('output1', `Selected ${selectedIds.length} item(s): ${selectedIds.join(', ')}`);
      }
    });

    tree1.addEventListener('itemselected', (e) => {
      const { node, nodeId } = e.detail;
      log('output1', `Double-clicked item: "${node.label}" (${nodeId})`);
    });

    window.tree1ExpandAll = () => tree1.expandAll();
    window.tree1CollapseAll = () => tree1.collapseAll();
    window.tree1SelectAll = () => tree1.selectAll();
    window.tree1DeselectAll = () => tree1.deselectAll();

    // Example 2: Organization Structure
    const tree2 = document.getElementById('tree2');
    tree2.data = [
      {
        id: 'company',
        label: 'ACME Corporation',
        customIcon: 'üè¢',
        expanded: true,
        children: [
          {
            id: 'engineering',
            label: 'Engineering',
            customIcon: '‚öôÔ∏è',
            expanded: true,
            children: [
              {
                id: 'frontend',
                label: 'Frontend Team',
                customIcon: 'üíª',
                children: [
                  { id: 'fe-dev1', label: 'Alice Johnson', customIcon: 'üë©‚Äçüíª' },
                  { id: 'fe-dev2', label: 'Bob Smith', customIcon: 'üë®‚Äçüíª' },
                  { id: 'fe-dev3', label: 'Carol White', customIcon: 'üë©‚Äçüíª' }
                ]
              },
              {
                id: 'backend',
                label: 'Backend Team',
                customIcon: 'üîß',
                children: [
                  { id: 'be-dev1', label: 'David Lee', customIcon: 'üë®‚Äçüíª' },
                  { id: 'be-dev2', label: 'Emma Davis', customIcon: 'üë©‚Äçüíª' }
                ]
              },
              {
                id: 'devops',
                label: 'DevOps Team',
                customIcon: 'üöÄ',
                children: [
                  { id: 'do-eng1', label: 'Frank Miller', customIcon: 'üë®‚Äçüíª' }
                ]
              }
            ]
          },
          {
            id: 'design',
            label: 'Design',
            customIcon: 'üé®',
            children: [
              {
                id: 'ui-ux',
                label: 'UI/UX Team',
                customIcon: '‚ú®',
                children: [
                  { id: 'designer1', label: 'Grace Chen', customIcon: 'üë©‚Äçüé®' },
                  { id: 'designer2', label: 'Henry Park', customIcon: 'üë®‚Äçüé®' }
                ]
              }
            ]
          },
          {
            id: 'marketing',
            label: 'Marketing',
            customIcon: 'üì¢',
            children: [
              { id: 'marketer1', label: 'Iris Wong', customIcon: 'üë©‚Äçüíº' },
              { id: 'marketer2', label: 'Jack Brown', customIcon: 'üë®‚Äçüíº' }
            ]
          }
        ]
      }
    ];

    tree2.addEventListener('selectionchange', (e) => {
      const selectedIds = e.detail.selectedIds;
      if (selectedIds.length === 0) {
        log('output2', 'No departments/teams selected');
      } else {
        log('output2', `Selected ${selectedIds.length} department(s)/team(s): ${selectedIds.join(', ')}`);
      }
    });

    tree2.addEventListener('itemselected', (e) => {
      const { node, nodeId } = e.detail;
      log('output2', `Double-clicked: "${node.label}" (${nodeId})`);
    });

    // Example 3: Custom Indentation
    const tree3 = document.getElementById('tree3');
    tree3.data = [
      {
        id: 'level1',
        label: 'Level 1',
        expanded: true,
        children: [
          {
            id: 'level2',
            label: 'Level 2',
            expanded: true,
            children: [
              {
                id: 'level3',
                label: 'Level 3',
                expanded: true,
                children: [
                  {
                    id: 'level4',
                    label: 'Level 4',
                    expanded: true,
                    children: [
                      {
                        id: 'level5',
                        label: 'Level 5',
                        children: [
                          { id: 'level6', label: 'Level 6 - Deep nesting!' }
                        ]
                      }
                    ]
                  }
                ]
              }
            ]
          }
        ]
      }
    ];

    tree3.addEventListener('selectionchange', (e) => {
      const selectedIds = e.detail.selectedIds;
      if (selectedIds.length === 0) {
        log('output3', 'No items selected');
      } else {
        log('output3', `Selected ${selectedIds.length} item(s) at various levels`);
      }
    });

    tree3.addEventListener('itemselected', (e) => {
      const { node, nodeId } = e.detail;
      log('output3', `Double-clicked item: "${node.label}" (${nodeId})`);
    });

    // Example 4: Mixed Icons
    const tree4 = document.getElementById('tree4');
    tree4.data = [
      {
        id: 'custom',
        label: 'Custom Icons',
        customIcon: '‚≠ê',
        expanded: true,
        children: [
          { id: 'star', label: 'Star Item', customIcon: '‚≠ê' },
          { id: 'heart', label: 'Heart Item', customIcon: '‚ù§Ô∏è' },
          { id: 'rocket', label: 'Rocket Item', customIcon: 'üöÄ' }
        ]
      },
      {
        id: 'standard',
        label: 'Standard Icons (Default)',
        expanded: true,
        children: [
          { id: 'file1', label: 'File 1' },
          { id: 'file2', label: 'File 2' }
        ]
      },
      {
        id: 'noicon',
        label: 'No Icons',
        icon: '',
        expanded: true,
        children: [
          { id: 'item1', label: 'Item 1', icon: '' },
          { id: 'item2', label: 'Item 2', icon: '' },
          { id: 'item3', label: 'Item 3', icon: '' }
        ]
      },
      {
        id: 'mixed',
        label: 'Mixed',
        customIcon: 'üéØ',
        expanded: true,
        children: [
          { id: 'has-icon', label: 'With Custom Icon', customIcon: '‚úÖ' },
          { id: 'default-icon', label: 'Default Icon' },
          { id: 'no-icon', label: 'No Icon', icon: '' }
        ]
      }
    ];

    tree4.addEventListener('selectionchange', (e) => {
      log('output4', `Selection changed: ${e.detail.selectedIds.length} item(s) selected`);
    });

    tree4.addEventListener('toggle', (e) => {
      log('output4', `Node "${e.detail.nodeId}" ${e.detail.expanded ? 'expanded' : 'collapsed'}`);
    });

    tree4.addEventListener('itemselected', (e) => {
      const { node, nodeId } = e.detail;
      log('output4', `Double-clicked item: "${node.label}" (${nodeId})`);
    });

    // Example 5: Fixed Height Container
    const tree5 = document.getElementById('tree5');
    tree5.data = [
      {
        id: 'root',
        label: 'Root Folder',
        expanded: true,
        children: [
          {
            id: 'folder1',
            label: 'Documents',
            expanded: true,
            children: [
              { id: 'doc1', label: 'Report.pdf' },
              { id: 'doc2', label: 'Presentation.pptx' },
              { id: 'doc3', label: 'Spreadsheet.xlsx' },
              { id: 'doc4', label: 'Notes.txt' },
              { id: 'doc5', label: 'Invoice.pdf' }
            ]
          },
          {
            id: 'folder2',
            label: 'Images',
            expanded: true,
            children: [
              { id: 'img1', label: 'photo1.jpg' },
              { id: 'img2', label: 'photo2.jpg' },
              { id: 'img3', label: 'screenshot.png' },
              { id: 'img4', label: 'logo.svg' },
              { id: 'img5', label: 'banner.png' },
              { id: 'img6', label: 'avatar.jpg' }
            ]
          },
          {
            id: 'folder3',
            label: 'Videos',
            expanded: true,
            children: [
              { id: 'vid1', label: 'tutorial.mp4' },
              { id: 'vid2', label: 'presentation.mov' },
              { id: 'vid3', label: 'demo.avi' },
              { id: 'vid4', label: 'recording.mp4' }
            ]
          },
          {
            id: 'folder4',
            label: 'Code',
            expanded: true,
            children: [
              { id: 'code1', label: 'main.js' },
              { id: 'code2', label: 'style.css' },
              { id: 'code3', label: 'index.html' },
              { id: 'code4', label: 'utils.js' },
              { id: 'code5', label: 'config.json' }
            ]
          },
          {
            id: 'folder5',
            label: 'Archives',
            children: [
              { id: 'arch1', label: 'backup.zip' },
              { id: 'arch2', label: 'old-data.tar.gz' }
            ]
          }
        ]
      }
    ];

    tree5.addEventListener('selectionchange', (e) => {
      const selectedIds = e.detail.selectedIds;
      if (selectedIds.length === 0) {
        log('output5', 'No items selected');
      } else {
        log('output5', `Selected ${selectedIds.length} item(s)`);
      }
    });

    tree5.addEventListener('itemselected', (e) => {
      const { node, nodeId } = e.detail;
      log('output5', `Double-clicked: "${node.label}" (${nodeId})`);
    });
  </script>
</body>
</html>
