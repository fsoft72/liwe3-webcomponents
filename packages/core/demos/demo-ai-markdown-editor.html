<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>AIMarkdownEditor Demo</title>
		<style>
		body {
			font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
			max-width: 800px;
			margin: 0 auto;
			padding: 20px;
			background: #f5f5f5;
		}
		.section {
			background: white;
			padding: 20px;
			border-radius: 8px;
			margin-bottom: 20px;
			box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
			height: 600px;
			display: flex;
			flex-direction: column;
		}
		h2 {
			margin-top: 0;
		}
		liwe3-ai-markdown-editor {
			flex: 1;
			min-height: 0;
		}
		.controls {
			background: white;
			padding: 20px;
			border-radius: 8px;
			margin-bottom: 20px;
			box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
		}
		.control-row {
			display: flex;
			align-items: center;
			gap: 10px;
			margin-bottom: 10px;
		}
		.control-row:last-child {
			margin-bottom: 0;
		}
		.control-row label {
			display: flex;
			align-items: center;
			gap: 8px;
			cursor: pointer;
		}
		.control-row input[type="checkbox"] {
			width: 18px;
			height: 18px;
			cursor: pointer;
		}
		.status {
			padding: 8px 12px;
			background: #e8f4fd;
			border-radius: 4px;
			font-size: 14px;
			color: #1976d2;
		}
		</style>
	</head>
	<body>
		<h1>AIMarkdownEditor Demo</h1>

		<div class="controls">
			<h2>Controls</h2>
			<div class="control-row">
				<label>
					<input type="checkbox" id="showSettingsToggle" checked>
					Show Settings Button
				</label>
				<span class="status" id="settingsStatus">Settings: Visible</span>
			</div>
		</div>

		<div class="section">
			<h2>Markdown Editor</h2>
			<liwe3-ai-markdown-editor id="editor"></liwe3-ai-markdown-editor>
		</div>

		<script type="module">
		import { defineAIMarkdownEditor } from '../dist/AIMarkdownEditor.js';

		// Initialize component
		defineAIMarkdownEditor();

		const editor = document.getElementById( 'editor' );
		const showSettingsToggle = document.getElementById( 'showSettingsToggle' );
		const settingsStatus = document.getElementById( 'settingsStatus' );

		// Handle showSettings toggle
		showSettingsToggle.addEventListener( 'change', ( e ) => {
			const show = e.target.checked;
			editor.setShowSettings( show );
			settingsStatus.textContent = `Settings: ${show ? 'Visible' : 'Hidden'}`;
		} );

		// You can also set it via attribute:
		// editor.setAttribute('show-settings', 'false');

		// Optional: Set API key if you have one
		// editor.setApiKey('your-api-key');

		editor.addEventListener( 'change', ( e ) => {
			console.log( 'Content changed:', e.detail.value );
		} );
		</script>
	</body>
</html>
